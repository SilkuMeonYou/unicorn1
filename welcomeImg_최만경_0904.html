<!DOCTYPE html>
<html>

<head>
    <title>Welcome</title>
    <style>
        /* 페이지 스타일 설정 */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        #output-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #output {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            white-space: nowrap;
        }

        #element {
            display: none;
            font-size: 24px;
            text-align: center;
        }

        .backImg {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }

        .backImg img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* 이미지를 화면에 맞게 조절 */
        }

        /* 이미지 위에 오버레이 텍스트 스타일 */
        .overlay-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            color: white;
            /* 텍스트 색상 설정 */
        }
    </style>
</head>

<body>
    <div class="backImg">
        <img src="https://media3.giphy.com/media/l1J9PnuDqssiDjSve/giphy.gif?cid=ecf05e4753tmow13qoddxwxyyg4vxs60ebtsqvtshl6wcjt5&ep=v1_gifs_search&rid=giphy.gif&ct=g"
            alt="">
        <div id="text" class="overlay-text">|</div>
        <div id="output" class="overlay-text"></div>
    </div>
    <script>
        // 텍스트를 변경하는 함수
        function changeText(text) {
            const textElement = document.getElementById('text');
            textElement.textContent = text;
        }

        // 반복 애니메이션 실행
        function runAnimation() {
            const texts = ['|', '']; // 텍스트 변경 순서
            let index = 0; // 현재 텍스트 인덱스
            let repeatCount = 0; // 반복 횟수

            function animate() {
                changeText(texts[index]);
                index = (index + 1) % texts.length; // 다음 텍스트로 이동

                if (index === 0) {
                    repeatCount++; // 한 번의 반복이 끝났을 때 반복 횟수 증가
                }

                if (repeatCount < 3) { // 3번 반복
                    setTimeout(animate, 1000); // 1초 후 다음 텍스트로 넘어감
                } else {
                    // 랜덤 문자열을 생성하는 함수
                    function getRandomCharacter() {
                        var characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
                        var randomIndex = Math.floor(Math.random() * characters.length);
                        return characters.charAt(randomIndex);
                    }

                    // 문자열을 화면에 출력하는 함수
                    function displayCharacters(count) {
                        var outputElement = document.getElementById("output");
                        var charactersToDisplay = "";

                        // 주어진 개수만큼 랜덤 문자열을 생성하여 화면에 출력
                        for (var i = 0; i < count; i++) {
                            charactersToDisplay += getRandomCharacter();
                        }

                        outputElement.textContent = charactersToDisplay;
                    }

                    var charCount = 1; // 초기 문자 개수
                    var maxCharCount = 28; // 최대 문자 개수
                    var additionalCharCount = 15; // 추가 출력 횟수
                    var welcomeDisplayed = false; // 환영 메시지가 이미 표시되었는지 여부

                    // 다음 문자열을 출력하는 함수
                    function displayNextCharacters() {
                        if (charCount <= maxCharCount + additionalCharCount) {
                            displayCharacters(charCount);
                            charCount++;
                        } else if (!welcomeDisplayed) {
                            welcomeDisplayed = true;

                            // 문자 출력이 끝나고 0.1초 후에 welcome 메시지를 출력
                            setTimeout(displayWelcomeMessage, 80);
                        } else {
                            // 모든 문자열이 출력되면 인터벌을 멈춤
                            clearInterval(intervalId);


                        }
                    }

                    // 환영 메시지를 출력하고 3초 후에 글꼴 크기 변경
                    function displayWelcomeMessage() {
                        var outputElement = document.getElementById("output");
                        outputElement.textContent = "Welcome To Human Education Center!";

                        // 3초 후에 글꼴 크기 변경
                        setTimeout(function () {
                            outputElement.style.transition = "font-size 4s"; // 글꼴 크기 변경에 5초의 전환 효과 추가
                            outputElement.style.fontSize = "50000%";
                        }, 3000); // 3초 후에 변경 시작

                        // 글꼴 크기 변경이 끝나면 mainpage.html로 이동
                        setTimeout(function () {
                            window.location.href = "mainpage.html"; // 새로운 페이지로 이동
                        }, 6000); 
                    }


                    // 0.1초마다 다음 문자열을 출력하는 인터벌 설정
                    var intervalId = setInterval(displayNextCharacters, 100);

                    // 페이지 로드 시 초기 문자열 출력
                    window.addEventListener("load", displayNextCharacters);
                }
            }

            animate(); // 애니메이션 시작
        }

        // 페이지 로드 후 애니메이션 시작
        window.onload = runAnimation;
    </script>
</body>

</html>